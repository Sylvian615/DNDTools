// 技能点取决的属性名称
const skillAtt = "int";
// 各项技能点
// 职业本职技能
charJobSkills = [
  "特技",
  "攀爬",
  "专注",
  "工艺",
  "医疗",
  "隐匿",
  "威吓",
  "知识-历史",
  "知识-自然",
  "知识-贵族",
  "察觉",
  "武术知识",
  "专业",
  "骑术",
  "察言观色",
  "游泳",
];
// [技能名称, 取决属性, 是否受训,加点]
const charSkills = [
  ["攀爬", "力量", 0, 0],
  ["游泳", "力量", 0, 2],
  ["特技", "敏捷", 0, 7],
  ["解除装置", "敏捷", 1, 6],
  ["逃脱", "敏捷", 0, 0],
  ["飞行", "敏捷", 0, 0],
  ["骑术", "敏捷", 0, 0],
  ["巧手", "敏捷", 1, 0],
  ["隐匿", "敏捷", 0, 7],
  ["估价", "智力", 0, 0],
  ["工艺", "智力", 0, 0],
  ["语言学", "智力", 1, 0],
  ["法术辨识", "智力", 1, 0],
  ["知识-奥秘", "智力", 1, 0],
  ["知识-地城", "智力", 1, 0],
  ["知识-工程", "智力", 1, 0],
  ["知识-地理", "智力", 1, 0],
  ["知识-历史", "智力", 1, 1],
  ["知识-地方", "智力", 1, 0],
  ["知识-自然", "智力", 1, 1],
  ["知识-贵族", "智力", 1, 0],
  ["知识-位面", "智力", 1, 0],
  ["知识-宗教", "智力", 1, 0],
  ["医疗", "感知", 0, 1],
  ["察觉", "感知", 0, 7],
  ["专业", "感知", 1, 0],
  ["察言观色", "感知", 0, 7],
  ["生产", "感知", 1, 0],
  ["唬骗", "魅力", 0, 0],
  ["交涉", "魅力", 0, 0],
  ["易容", "魅力", 0, 0],
  ["驯养动物", "魅力", 1, 0],
  ["威吓", "魅力", 0, 7],
  ["表演", "魅力", 0, 0],
  ["使用魔法装置", "魅力", 1, 0],
  ["专注", "体质", 0, 7],
  ["武术知识", "智力", 1, 7],
];

function PlayerSkills() {
  return {
    setSkillNameText(skillInfo) {
      let skillName = skillInfo[0];
      if (charJobSkills.includes(skillInfo[0])) {
        skillName += "*";
      }
      if (skillInfo[2] === 1) {
        skillName = "#" + skillName;
      }
      return skillName;
    },
    setSkillValue(skillInfo) {
      let skillValue = 0;
      if (charJobSkills.includes(skillInfo[0])) {
        skillValue += Number(skillInfo[3] !== 0) * 3;
      }
      skillValue += charAttModifier[Att2Idx[skillInfo[1]]];
      skillValue += skillInfo[3];
      return skillValue;
    },
  };
}
